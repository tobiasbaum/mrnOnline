<div class="grid-parent">
    <div class="grid-top">
        <button *ngIf="!field.gameField.currentPlayerName" (click)="field.gameField.shuffleStartPlayer()">Zufälligen Startspieler wählen</button>
        <button *ngIf="isOwnTurn()" (click)="field.gameField.nextPlayer()">Zug beenden</button>
        <ng-container *ngFor="let p of field.gameField.allActivePlayers">&nbsp;<a href="#{{p.id}}" [style.background-color]="p.color" class="playerLink" [class.activePlayer]="field.gameField.currentPlayerName === p.name"> {{p.name}} </a></ng-container>
        &nbsp; <button (click)="dice(6)">Würfel 6</button><button (click)="diceX()">Würfel X ...</button><button (click)="randomOpponent()">Würfel Gegner</button>
        &nbsp; <button (click)="endGameForPlayer()">Spieler aus Spiel nehmen ...</button>
    </div>
    <div class="grid-center">          
        
        <mrn-other-player *ngFor="let p of otherPlayers" [me]="p"></mrn-other-player>

        <fieldset id="{{id}}">
            <legend [class.turn]="isCurrentPlayer()"><b>{{name}}</b> (ID: {{id}})</legend>
            <ng-container *ngIf="this.isInGame">
                <mrn-card-collection [collection]="this.hand" name="Hand" [act]="'PL,PT,GR,EX,LI'"></mrn-card-collection>
                <mrn-card-collection [collection]="this.table" name="Ausgelegt" [act]="'TA,UT,BL,GR,EX,HA,MO,CO,LI'"></mrn-card-collection>
                <button (click)="this.untapAll()">Alles enttappen</button>
                <div>Bibliothek: {{this.librarySize()}} Karten. 
                    <button (click)="this.drawCard()">Karte ziehen</button>
                    <button (click)="this.openLibrary()">Bibliothek öffnen</button>
                    <button (click)="this.shuffleLibrary()">Bibliothek mischen</button>
                    <button (click)="this.createToken()">Token erstellen</button>
                </div>
                <mrn-card-collection [collection]="this.graveyard" name="Friedhof" [act]="'PL,PT,HA,EX,LI'" [collapsed]="true"></mrn-card-collection>
                <mrn-card-collection *ngIf="this.exile.size > 0" [collection]="this.exile" name="Aus dem Spiel" [act]="'GR'" [collapsed]="true"></mrn-card-collection>
                <div>Lebenspunkte: {{this.lifes}}
                    <button (click)="this.increaseLifes()">+</button>
                    <button (click)="this.decreaseLifes()">-</button>
                    <button (click)="this.multiLifeIncrease()">+X ...</button>
                    <button (click)="this.multiLifeDecrease()">-X ...</button>
                </div>
            </ng-container>
            <ng-container *ngIf="!this.isInGame">
                Hat das Spiel verlassen.
            </ng-container>
            </fieldset>
                </div>
    <div class="grid-right">
        <mrn-card-details></mrn-card-details>   
        <mrn-chat-box></mrn-chat-box>
        <button (click)="addConnection()">Erneut verbinden ...</button>                       
    </div>
</div>    
